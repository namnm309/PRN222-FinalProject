@{
    // XÃ¡c Ä‘á»‹nh ngá»¯ cáº£nh hiá»‡n táº¡i (Admin hay Staff) theo path
    var path = Context?.Request?.Path.Value?.ToLower() ?? string.Empty;
    var isAdmin = path.StartsWith("/admin");
    var isStaff = path.StartsWith("/staff");

    string Active(string href)
    {
        return path == href.ToLower() || path.StartsWith(href.ToLower()) ? "active" : string.Empty;
    }
}

<div class="sidebar-brand">
    <a asp-page="/Index" class="brand-link">
        <div class="brand-logo">âš¡</div>
        <div class="brand-text">
            <div class="brand-title">EV Charging</div>
            <div class="brand-sub">Management System</div>
        </div>
    </a>
    <button class="btn-sidebar-toggle" id="SidebarToggle" title="Thu gá»n">
        <span class="icon">âŸ¨âŸ©</span>
    </button>
</div>

<div class="sidebar-sep"></div>

<nav class="sidebar-nav">
    @if (isAdmin)
    {
        <ul class="nav-list">
            <li><a class="nav-item @Active("/admin")" asp-page="/Admin/Index"><span class="nav-ico">â–¦</span><span class="nav-text">Dashboard</span></a></li>
            <li><a class="nav-item @Active("/admin/stations")" asp-page="/Admin/Stations"><span class="nav-ico">âš¡</span><span class="nav-text">Quáº£n lÃ½ Tráº¡m sáº¡c</span></a></li>
            <li><a class="nav-item @Active("/admin/users")" asp-page="/Admin/Users"><span class="nav-ico">ğŸ‘¥</span><span class="nav-text">Quáº£n lÃ½ NgÆ°á»i dÃ¹ng</span></a></li>
            <li><a class="nav-item @Active("/admin/sessions")" asp-page="/Admin/Sessions"><span class="nav-ico">â±</span><span class="nav-text">GiÃ¡m sÃ¡t Sáº¡c</span></a></li>
            <li><a class="nav-item @Active("/admin/reports")" asp-page="/Admin/Reports"><span class="nav-ico">ğŸ“Š</span><span class="nav-text">BÃ¡o cÃ¡o & Thá»‘ng kÃª</span></a></li>
            <li><a class="nav-item @Active("/admin/settings")" asp-page="/Admin/Settings"><span class="nav-ico">âš™</span><span class="nav-text">CÃ i Ä‘áº·t</span></a></li>
        </ul>
    }
    else if (isStaff)
    {
        <ul class="nav-list">
            <li><a class="nav-item @Active("/staff")" asp-page="/Staff/Index"><span class="nav-ico">â–¦</span><span class="nav-text">Dashboard</span></a></li>
            <li><a class="nav-item @Active("/staff/stations")" asp-page="/Staff/Stations"><span class="nav-ico">âš¡</span><span class="nav-text">Tráº¡m sáº¡c cá»§a tÃ´i</span></a></li>
            <li><a class="nav-item @Active("/staff/sessions")" asp-page="/Staff/Sessions"><span class="nav-ico">â±</span><span class="nav-text">GiÃ¡m sÃ¡t Sáº¡c</span></a></li>
            <li><a class="nav-item @Active("/staff/settings")" asp-page="/Staff/Settings"><span class="nav-ico">âš™</span><span class="nav-text">CÃ i Ä‘áº·t</span></a></li>
        </ul>
    }
    else
    {
        <div class="sidebar-note">Chá»n khu vá»±c Admin/Staff Ä‘á»ƒ hiá»ƒn thá»‹ menu.</div>
    }
</nav>

<div class="sidebar-footer">
    <div class="user-chip">
        <div class="avatar avatar-md">ğŸ‘¤</div>
        <div class="user-text">
            <div class="user-name">NgÆ°á»i dÃ¹ng</div>
            <div class="user-role">@(isAdmin ? "Quáº£n trá»‹ viÃªn" : (isStaff ? "NhÃ¢n viÃªn" : ""))</div>
        </div>
        <a asp-page="/Auth/Logout" class="link-logout" title="ÄÄƒng xuáº¥t">ÄÄƒng xuáº¥t</a>
    </div>
</div>




